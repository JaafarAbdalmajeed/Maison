<?php
/**
 * Maison de Pierre - Brands Page Template
 * Dynamic brands page displaying all available brands
 */
/** @var \Maison\Homepage\Block\Brands $block */
$brands = $block->getBrands(); // Get all brands
?>
<!-- Brands Page -->
<div class="brands-page">
    <!-- Hero Section -->
    <section class="brands-hero-section" style="background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1920&q=80') center center/cover no-repeat;">
        <div class="container-fluid px-4 px-lg-5">
            <div class="brands-hero-content">
                <h1 class="brands-hero-title"><?= __('Our Luxury Brands') ?></h1>
                <p class="brands-hero-subtitle"><?= __('Discover World-Renowned Designers & Manufacturers') ?></p>
            </div>
        </div>
    </section>

    <!-- Brands Grid Section -->
    <?php if (!empty($brands)): ?>
    <section class="brands-grid-section py-5" style="padding-top: 120px !important; padding-bottom: 120px !important;">
        <div class="container-fluid px-4 px-lg-5">
            <!-- Section Header -->
            <div class="brands-section-header text-center mb-5">
                <div class="brands-section-label"><?= __('COLLECTION') ?></div>
                <h2 class="brands-section-title"><?= __('All Brands') ?></h2>
                <div class="brands-divider mx-auto"></div>
                <p class="brands-section-description">
                    <?= __('Explore our curated selection of luxury brands, each representing the pinnacle of design excellence and craftsmanship.') ?>
                </p>
            </div>

            <!-- Brands Grid -->
            <div class="brands-grid">
                <?php foreach ($brands as $brand): ?>
                    <div class="brand-card">
                        <a href="<?= $block->escapeUrl($brand['url']) ?>" class="brand-card-link" title="<?= $block->escapeHtmlAttr($brand['label']) ?>">
                            <div class="brand-card-content">
                                <div class="brand-logo-wrapper">
                                    <div class="brand-logo-text"><?= $block->escapeHtml($block->getBrandLogoText($brand['label'])) ?></div>
                                </div>
                                <div class="brand-info">
                                    <h3 class="brand-name"><?= $block->escapeHtml($brand['label']) ?></h3>
                                    <?php if ($brand['count'] > 0): ?>
                                        <p class="brand-count">
                                            <span class="brand-count-number"><?= $block->escapeHtml($brand['count']) ?></span>
                                            <span class="brand-count-label"><?= __('Products') ?></span>
                                        </p>
                                    <?php endif; ?>
                                </div>
                                <div class="brand-arrow">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="5" y1="12" x2="19" y2="12"></line>
                                        <polyline points="12 5 19 12 12 19"></polyline>
                                    </svg>
                                </div>
                            </div>
                        </a>
                    </div>
                <?php endforeach; ?>
            </div>

            <!-- Stats Section -->
            <div class="brands-stats-section mt-5 pt-5" style="border-top: 1px solid var(--light-gray);">
                <div class="row g-4 text-center">
                    <div class="col-md-4">
                        <div class="brand-stat-item">
                            <div class="brand-stat-number"><?= count($brands) ?></div>
                            <div class="brand-stat-label"><?= __('Luxury Brands') ?></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="brand-stat-item">
                            <?php
                            $totalProducts = array_sum(array_column($brands, 'count'));
                            ?>
                            <div class="brand-stat-number"><?= $block->escapeHtml($totalProducts) ?></div>
                            <div class="brand-stat-label"><?= __('Total Products') ?></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="brand-stat-item">
                            <div class="brand-stat-number">100%</div>
                            <div class="brand-stat-label"><?= __('Authentic') ?></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <?php else: ?>
    <!-- Empty State -->
    <section class="brands-empty-section py-5" style="padding-top: 120px !important; padding-bottom: 120px !important;">
        <div class="container-fluid px-4 px-lg-5">
            <div class="text-center">
                <div class="brands-empty-icon mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="9" y1="3" x2="9" y2="21"></line>
                    </svg>
                </div>
                <h2 class="brands-empty-title"><?= __('No Brands Available') ?></h2>
                <p class="brands-empty-message"><?= __('We are currently updating our brand collection. Please check back soon.') ?></p>
                <a href="<?= $block->escapeUrl($block->getUrl('catalog')) ?>" class="btn-brands-primary mt-4">
                    <?= __('Browse Catalog') ?>
                </a>
            </div>
        </div>
    </section>
    <?php endif; ?>

    <!-- CTA Section -->
    <section class="brands-cta-section py-5" style="background-color: var(--dark-brown); padding-top: 100px !important; padding-bottom: 100px !important;">
        <div class="container-fluid px-4 px-lg-5">
            <div class="brands-cta-content text-center">
                <h2 class="brands-cta-title"><?= __('Explore Our Complete Collection') ?></h2>
                <p class="brands-cta-text"><?= __('Browse our extensive catalog of luxury furniture and home dÃ©cor') ?></p>
                <div class="brands-cta-buttons mt-4">
                    <a href="<?= $block->escapeUrl($block->getUrl('catalog')) ?>" class="btn-brands-cta btn-brands-cta-primary">
                        <?= __('View Catalog') ?>
                    </a>
                    <a href="<?= $block->escapeUrl($block->getUrl('contact')) ?>" class="btn-brands-cta btn-brands-cta-secondary">
                        <?= __('Contact Us') ?>
                    </a>
                </div>
            </div>
        </div>
    </section>
</div>

