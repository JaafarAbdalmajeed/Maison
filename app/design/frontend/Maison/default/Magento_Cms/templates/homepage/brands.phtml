<?php
/**
 * Maison de Pierre - Luxury Brands Section
 * Dynamic brands from Magento brand attribute
 */
/** @var \Maison\Homepage\Block\Brands $block */
$brands = $block->getBrands(12); // Get up to 12 brands
?>
<!-- Luxury Brands Section -->
<section class="brands-section py-5" style="background-color: var(--soft-beige); padding-top: 120px !important; padding-bottom: 120px !important;">
    <div class="container-fluid px-4 px-lg-5">
        <div class="text-center mb-5">
            <h2 class="section-title mb-3"><?= __('Our Luxury Brands') ?></h2>
            <p class="section-subtitle"><?= __('World-Renowned Designers & Manufacturers') ?></p>
        </div>
        
        <?php if (!empty($brands)): ?>
            <div class="position-relative">
                <div class="carousel-nav carousel-prev brands-prev" onclick="scrollBrandsCarousel(-1)">‹</div>
                <div class="carousel-nav carousel-next brands-next" onclick="scrollBrandsCarousel(1)">›</div>
                
                <div class="brands-carousel" id="brandsCarousel">
                    <?php foreach ($brands as $brand): ?>
                        <div class="brand-item">
                            <a href="<?= $block->escapeUrl($brand['url']) ?>" class="brand-link" title="<?= $block->escapeHtmlAttr($brand['label']) ?>">
                                <div class="brand-logo-text"><?= $block->escapeHtml($block->getBrandLogoText($brand['label'])) ?></div>
                                <div class="brand-divider"></div>
                                <p class="brand-name"><?= $block->escapeHtml($brand['label']) ?></p>
                                <?php if ($brand['count'] > 0): ?>
                                    <span class="brand-count"><?= $block->escapeHtml($brand['count']) ?> <?= __('products') ?></span>
                                <?php endif; ?>
                            </a>
                        </div>
                    <?php endforeach; ?>
                </div>
            </div>
        <?php else: ?>
            <!-- Fallback: Show message if no brands found -->
            <div class="text-center">
                <p><?= __('No brands available at the moment.') ?></p>
            </div>
        <?php endif; ?>
    </div>
</section>
